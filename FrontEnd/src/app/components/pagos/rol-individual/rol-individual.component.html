<app-menu></app-menu>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark " style="padding-left: 50px; padding-right: 50px;">

    <a class="navbar-brand" href="nomina-pagos">Nómina de Pagos</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
        <ul class="navbar-nav">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Horas Extra
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="horas-extra">Horas Extras <span class="sr-only">(current)</span></a>
                    <a class="dropdown-item" href="nueva-hora-extra">Generar Nueva Hora Extra <span class="sr-only">(current)</span></a>
                </div>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Anticipos
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="anticipos">Anticipo <span class="sr-only">(current)</span></a>
                    <a class="dropdown-item" href="crear-anticipo">Generar Anticipo <span
                            class="sr-only">(current)</span></a>
                </div>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Salarios
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                    <a class="dropdown-item" href="salarios">Salarios <span class="sr-only">(current)</span></a>
                    <a class="dropdown-item" href="nuevo-salario">Añadir Salarios <span
                            class="sr-only">(current)</span></a>
                </div>
            </li>

        </ul>
    </div>
</nav>

<!--FORMULARIO NUEVO-->
<div class="container mt-3">
    <div class="row ">
        <div class="col-lg-12 offset-lg-0">
            <div class="card">
                <div class="card-body text-center ">
                    <span class="titulo">{{ titulo | uppercase}}</span>
                    <form class="mt-3" [formGroup]="rolIndividualForm" (ngSubmit)="agregarRolIndividual()">
                        <!--Cedula-->
                        <div class="form-group row formRol input-sm md-5">
                            <label class="col-sm-3 col-form-label label-rol">CÉDULA</label>
                            <div class="col-sm-9">
                                <input readonly type="text" style="height: 10px;" formControlName="cedula" id ="cedul" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese la cédula" minlength="10" maxlength="15" pattern="[0-9]*">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('cedula')?.hasError('required') && rolIndividualForm.get('cedula')?.touched">
                                    <span>La cédula <strong>es obligatoria.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('cedula')?.hasError('minlength')">
                                    <span>La cédula se puede contener <strong>mínimo 10 caracteres o máximo
                                            15.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('cedula')?.hasError('pattern')">
                                    <span>La cédula puede contener <strong>solo números.</strong></span>
                                </div>
                            </div>
                        </div>
                        <!--Empleado-->
                        <div class="form-group row formRol input-sm md-5">
                            <label class="col-sm-3 col-form-label label-rol">EMPLEADO</label>
                            <div class="col-sm-9">
                                <input readonly type="text" style="height: 10px;" formControlName="nomina" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese la nómina" minlength="3" maxlength="50" pattern="[A-Za-záéíóúñü ]*">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('nomina')?.hasError('required') && rolIndividualForm.get('nomina')?.touched">
                                    <span>El nombre del empleado <strong>es obligatoria.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('nomina')?.hasError('minlength')">
                                    <span>El nombre del empleado puede contener <strong>mínimo 3 caracteres o máximo
                                            50.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('nomina')?.hasError('pattern')">
                                    <span>El nombre del empleado puede contener <strong>solo letras.</strong></span>
                                </div>
                            </div>
                        </div>
                        <!--Cargo-->
                        <div class="form-group row formRol input-sm md-5">
                            <label class="col-sm-3 col-form-label label-rol">CARGO</label>
                            <div class="col-sm-9">
                                <input readonly type="text" style="height: 10px;" formControlName="cargo" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el cargo" minlength="3" maxlength="50" pattern="[A-Za-záéíóúñü \.]*">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('cargo')?.hasError('required') && rolIndividualForm.get('cargo')?.touched">
                                    <span>El cargo del empleado <strong>es obligatoria.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('cargo')?.hasError('minlength')">
                                    <span>El cargo del empleado puede contener <strong>mínimo 3 caracteres o máximo
                                            50.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('cargo')?.hasError('pattern')">
                                    <span>El cargo del empleado puede contener <strong>solo letras.</strong></span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <br><br>
                        </div>
                        <!--ingresos y egresos-->
                        <div class="row formRol input-sm md-5">
                            <label class="col-md-6 label-rol" style="text-align: center; font-size: 150%;">INGRESOS</label>
                            <label class="col-md-6 label-rol" style="text-align: center; font-size: 150%;">EGRESOS</label>
                        </div>

                        <div class="form-group row formRol input-sm md-5">
                            <!--Salario-->
                            <label class="col-sm-2 col-form-label label-rol">SALARIO</label>
                            <div class="col-sm-4">
                                <input readonly type="text" style="height: 10px;" formControlName="salario" id="salario" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el salario" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('salario')?.hasError('required') && rolIndividualForm.get('salario')?.touched">
                                    <span>El salario <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('salario')?.hasError('minlength')">
                                    <span>El salario puede tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('salario')?.hasError('pattern')">
                                    <span>El salario puede contener <strong>números incluyendo el punto.</strong></span>
                                </div>
                            </div>
                            <!--Aporte IESS-->
                            <label class="col-sm-2 col-form-label label-rol">APORTE IESS</label>
                            <div class="col-sm-4">
                                <input type="text" style="height: 10px;" id="iessDato" formControlName="iess" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el aporte IESS" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('iess')?.hasError('required') && rolIndividualForm.get('iess')?.touched">
                                    <span>El aporte de IESS <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('iess')?.hasError('minlength')">
                                    <span>El aporte de IESS debe tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('iess')?.hasError('pattern')">
                                    <span>El aporte de IESS puede contener <strong>números incluyendo el
                                            punto.</strong></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row formRol input-sm md-5">
                            <label class="col-sm-2 col-form-label label-rol">VALOR HORAS EXTRAS</label>
                            <div class="col-sm-4">
                                <input readonly type="text" style="height: 10px;" formControlName="valorHorasExtras" id="valorHorasExtras" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese las horas extras" minlength="4" maxlength="15" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('valorHorasExtras')?.hasError('required') && rolIndividualForm.get('valorHorasExtras')?.touched">
                                    <span>Las horas extras <strong>son obligatorias.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('valorHorasExtras')?.hasError('minlength')">
                                    <span>Las horas extras pueden contener <strong>mínimo 1 o máximo 3</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('valorHorasExtras')?.hasError('pattern')">
                                    <span>Las horas extras pueden contener <strong>solo números.</strong></span>
                                </div>
                            </div>                            
                            <div class="col-sm-4" hidden>
                                <input type="text" style="height: 10px;" formControlName="numeroHorasExtras" class="form-control form-control-lg col-sm-2 col-form-label">                               
                            </div>
                            <label class="col-sm-2 col-form-label label-rol">ANTICIPO</label>
                            <div class="col-sm-4">
                                <input readonly type="text" style="height: 10px;" formControlName="anticipo" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el anticipo" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('anticipo')?.hasError('required') && rolIndividualForm.get('anticipo')?.touched">
                                    <span>El anticipo <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('anticipo')?.hasError('minlength')">
                                    <span>El anticipo debe tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('anticipo')?.hasError('pattern')">
                                    <span>El anticipo puede contener <strong>números incluyendo el
                                            punto.</strong></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group row formRol input-sm md-5">
                            <label class="col-sm-2 col-form-label label-rol">FONDOS RESERVA</label>
                            <div class="col-sm-4">
                                <input type="text" style="height: 10px;" formControlName="fondosReserva" id="fondosReserva" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el fondo de reserva" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('fondosReserva')?.hasError('required') && rolIndividualForm.get('fondosReserva')?.touched">
                                    <span>El fondo de reserva <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('fondosReserva')?.hasError('minlength')">
                                    <span>El fondo de reserva debe tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('fondosReserva')?.hasError('pattern')">
                                    <span>El fondo de reserva puede contener <strong>números incluyendo el
                                            punto.</strong></span>
                                </div>
                            </div>
                            <label class="col-sm-2 col-form-label label-rol">PRÉSTAMO IESS</label>
                            <div class="col-sm-4">
                                <input type="text" style="height: 10px;" id="prestamoIess" formControlName="prestamoIess" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el préstamo de IESS" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('prestamoIess')?.hasError('required') && rolIndividualForm.get('prestamoIess')?.touched">
                                    <span>El préstamo iess <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('prestamoIess')?.hasError('minlength')">
                                    <span>El préstamo iess debe tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('prestamoIess')?.hasError('pattern')">
                                    <span>El préstamo iess puede contener <strong>números incluyendo el
                                            punto.</strong></span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <br>
                        </div>
                        <div class="form-group row formRol input-sm md-5">
                            <label class="col-sm-2 col-form-label label-rol">TOTAL INGRESOS</label>
                            <div class="col-sm-4">
                                <input readonly type="text" style="height: 10px;" formControlName="totalIngresos" id="totalIngresos" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el total de ingresos" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('totalIngresos')?.hasError('required') && rolIndividualForm.get('totalIngresos')?.touched">
                                    <span>El total de ingresos <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('totalIngresos')?.hasError('minlength')">
                                    <span>El total de ingresos debe tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('totalIngresos')?.hasError('pattern')">
                                    <span>El total de ingresos puede contener <strong>números incluyendo el
                                            punto.</strong></span>
                                </div>
                            </div>
                            <label class="col-sm-2 col-form-label label-rol">TOTAL EGRESOS</label>
                            <div class="col-sm-4">
                                <input readonly type="text" style="height: 10px;" formControlName="totalEgreso" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el total de egresos" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('totalEgreso')?.hasError('required') && rolIndividualForm.get('totalEgreso')?.touched">
                                    <span>El total de egresos <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('totalEgreso')?.hasError('minlength')">
                                    <span>El total de egresos debe tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('totalEgreso')?.hasError('pattern')">
                                    <span>El total de egresos puede contener <strong>números incluyendo el
                                            punto.</strong></span>
                                </div>
                            </div>
                        </div>
                        <div>
                            <br><br>
                        </div>
                        <!--Líquido a pagar-->
                        <div class="form-group row formRol input-sm md-5">
                            <label class="col-sm-6 col-form-label label-rol">LÍQUIDO A PAGAR</label>
                            <div class="col-sm-3">
                                <input readonly type="text" style="height: 10px;" formControlName="liquidoRecibir" class="form-control form-control-lg col-sm-2 col-form-label" placeholder="Ingrese el líquido a pagar" minlength="4" maxlength="10" pattern="[0-9]*.[0-9]{2}">
                                <div class="text-danger" *ngIf="rolIndividualForm.get('liquidoRecibir')?.hasError('required') && rolIndividualForm.get('liquidoRecibir')?.touched">
                                    <span>El líquido a recibir <strong>es obligatorio.</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('liquidoRecibir')?.hasError('minlength')">
                                    <span>El líquido a recibir debe tener el formato <strong>0.00</strong></span>
                                </div>
                                <div class="text-danger" *ngIf="rolIndividualForm.get('liquidoRecibir')?.hasError('pattern')">
                                    <span>El líquido a recibir puede contener <strong>números incluyendo el
                                            punto.</strong></span>
                                </div>
                            </div>
                        </div>

                        <div class="text-danger" style="text-align: center;">
                            <span><strong>{{mensaje}}</strong></span>
                        </div>
                        <br>

                        <div class="mb-3">
                            <button routerLink="/nomina-pagos" class="btn btn-secondary btn-lg float-start">VOLVER</button>
                            <button type="submit" [disabled]="rolIndividualForm.invalid" class="btn btn-success btn-lg float-end">ACEPTAR</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>